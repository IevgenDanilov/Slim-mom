(this["webpackJsonpslim-mom"]=this["webpackJsonpslim-mom"]||[]).push([[0],{102:function(t,e,r){},103:function(t,e,r){"use strict";r.r(e);var n,a,c=r(0),u=r.n(c),i=r(31),s=r.n(i),o=r(20),d=r(64),l=r(27),p=r(10),f=r(19),b=r(65),j=r.n(b),h=r(9),v=r(18),O={user:{username:"",email:""},token:"",error:null},y=Object(p.d)({name:"auth",initialState:O,extraReducers:(n={},Object(h.a)(n,v.a.register.fulfilled,(function(t,e){var r=e.payload;t.user=r.user,t.token=r.token})),Object(h.a)(n,v.a.register.rejected,(function(t,e){var r=e.payload;t.error=r})),Object(h.a)(n,v.a.logIn.fulfilled,(function(t,e){var r=e.payload;t.user=r.user,t.token=r.accessToken})),Object(h.a)(n,v.a.logIn.rejected,(function(t,e){var r=e.payload;t.error=r})),Object(h.a)(n,v.a.logOut.fulfilled,(function(t,e){t.user=O.user,t.token=""})),Object(h.a)(n,v.a.logOut.rejected,(function(t,e){var r=e.payload;t.error=r})),Object(h.a)(n,v.a.CheckedIsLoginCurrentUser.fulfilled,(function(t,e){var r=e.payload;t.user=r.data})),Object(h.a)(n,v.a.CheckedIsLoginCurrentUser.rejected,(function(t,e){e.payload;t.token=""})),n)}).reducer,m=r(28),x=Object(p.b)("auth/login/fulfilled"),w=Object(p.b)("auth/checked/fulfilled"),k=Object(p.d)({name:"summaries",initialState:{id:"",date:"",notAllowedProducts:[],days:[],todaySummary:null,userId:"",eatenProduct:[],dayId:"",dayChecked:"",del:""},extraReducers:(a={},Object(h.a)(a,x,(function(t,e){var r=e.payload;t.id=r.id})),Object(h.a)(a,w,(function(t,e){var r,n=e.payload;t.id=n.data.id,t.notAllowedProducts=n.data.userData.notAllowedProducts,t.days=n.data.days,t.date=n.date;var a=null===(r=n.data.days)||void 0===r?void 0:r.find((function(e){return e.date===t.date}));t.eatenProduct=null===a||void 0===a?void 0:a.eatenProducts,t.todaySummary=null===a||void 0===a?void 0:a.daySummary,t.dayId=null===a||void 0===a?void 0:a._id})),Object(h.a)(a,m.d.fulfilled,(function(t,e){var r=e.payload;t.notAllowedProducts=r.data.notAllowedProducts,t.todaySummary=r.data.summaries})),Object(h.a)(a,m.c.fulfilled,(function(t,e){var r=e.payload;t.eatenProduct=r.eatenProducts,t.date=r.date,t.todaySummary=r.daySummary})),Object(h.a)(a,m.a.fulfilled,(function(t,e){var r,n,a,c,u=e.payload;t.dayId=null===(r=u.day)||void 0===r?void 0:r.id,t.date=null===(n=u.day)||void 0===n?void 0:n.date,t.eatenProduct=null===(a=u.day)||void 0===a?void 0:a.eatenProducts,t.todaySummary=null===u||void 0===u?void 0:u.daySummary,t.userId=null===(c=u.day)||void 0===c?void 0:c.userId})),Object(h.a)(a,m.b.fulfilled,(function(t,e){var r=e.payload;t.todaySummary=r.data.newDaySummary,t.eatenProduct=t.eatenProduct.filter((function(t){return t.id!==r.options.eatenProductId}))})),a)}).reducer,g={key:"user",storage:j.a,whitelist:["token"]},P=Object(p.a)({reducer:{auth:Object(f.g)(g,y),calendar:k},middleware:function(t){return t({serializableCheck:{ignoredActions:[f.a,f.f,f.b,f.c,f.d,f.e]}})}}),I=Object(f.h)(P),S=r(6),A=r(26),_=r.n(A),T=r(24),N=r(32),C=r(36),D=r(1),R=["children","redirectTo"],V=function(t){var e=t.children,r=t.redirectTo,n=void 0===r?"/":r,a=Object(N.a)(t,R),c=Object(C.a)();return Object(D.jsx)(S.b,Object(T.a)(Object(T.a)({},a),{},{children:c?e:Object(D.jsx)(S.a,{to:n})}))},W=["children","restricted","redirectTo"],z=function(t){var e=t.children,r=t.restricted,n=void 0!==r&&r,a=t.redirectTo,c=void 0===a?"/":a,u=Object(N.a)(t,W),i=Object(C.a)()&&n;return Object(D.jsx)(S.b,Object(T.a)(Object(T.a)({},u),{},{children:i?Object(D.jsx)(S.a,{to:c}):e}))},B=Object(c.lazy)((function(){return r.e(4).then(r.bind(null,229))})),L=Object(c.lazy)((function(){return Promise.all([r.e(3),r.e(5)]).then(r.bind(null,225))})),U=Object(c.lazy)((function(){return r.e(8).then(r.bind(null,227))})),E=Object(c.lazy)((function(){return r.e(6).then(r.bind(null,226))})),H=Object(c.lazy)((function(){return r.e(9).then(r.bind(null,228))})),J=Object(c.lazy)((function(){return Promise.all([r.e(10),r.e(7)]).then(r.bind(null,224))})),M=function(){return Object(D.jsx)(c.Suspense,{fallback:Object(D.jsx)("div",{children:"Loading..."}),children:Object(D.jsxs)(S.d,{children:[Object(D.jsx)(z,{restricted:!0,exact:!0,path:"/",redirectTo:"/calculator",children:Object(D.jsxs)("div",{className:_.a.App,children:[Object(D.jsx)(J,{}),Object(D.jsx)(E,{})]})}),Object(D.jsx)(z,{restricted:!0,exact:!0,path:"/login",redirectTo:"/calculator",children:Object(D.jsxs)("div",{className:_.a.App,children:[Object(D.jsx)(J,{}),Object(D.jsx)(U,{})]})}),Object(D.jsx)(z,{restricted:!0,exact:!0,path:"/registration",redirectTo:"/calculator",children:Object(D.jsxs)("div",{className:_.a.App,children:[Object(D.jsx)(J,{}),Object(D.jsx)(H,{})]})}),Object(D.jsx)(V,{exact:!0,path:"/diary",redirectTo:"/login",children:Object(D.jsxs)("div",{className:_.a.sideBarDiv,children:[Object(D.jsx)(J,{}),Object(D.jsx)(L,{})]})}),Object(D.jsx)(V,{exact:!0,path:"/calculator",redirectTo:"/login",children:Object(D.jsxs)("div",{className:_.a.sideBarDiv,children:[Object(D.jsx)(J,{}),Object(D.jsx)(B,{})]})})]})})},X=(r(102),r(37));var G=function(){var t=Object(o.b)(),e=Object(o.c)(X.b);return Object(c.useEffect)((function(){e&&t(v.a.CheckedIsLoginCurrentUser())}),[]),Object(D.jsx)("div",{className:"App",children:Object(D.jsx)(M,{})})};s.a.render(Object(D.jsx)(u.a.StrictMode,{children:Object(D.jsx)(o.a,{store:P,children:Object(D.jsx)(l.a,{children:Object(D.jsx)(d.a,{persistor:I,children:Object(D.jsx)(G,{})})})})}),document.getElementById("root"))},11:function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"f",(function(){return d})),r.d(e,"e",(function(){return l})),r.d(e,"c",(function(){return f})),r.d(e,"d",(function(){return j})),r.d(e,"a",(function(){return v}));var n=r(2),a=r.n(n),c=r(5),u=r(66),i=r.n(u),s=r(104),o=i.a.create({baseURL:"https://slimmom-backend.herokuapp.com/"}),d={set:function(t){o.defaults.headers.authorization="Bearer ".concat(t)},unset:function(){o.defaults.headers.common.Authorisation=""}};function l(t){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.post("/auth/register",e);case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t){return b.apply(this,arguments)}function b(){return(b=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.post("/auth/login",e);case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(){return h.apply(this,arguments)}function h(){return(h=Object(c.a)(a.a.mark((function t(){var e,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.post("/auth/logout");case 2:return e=t.sent,r=e.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(){return O.apply(this,arguments)}function O(){return(O=Object(c.a)(a.a.mark((function t(){var e,r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.get("/user");case 2:return e=t.sent,r=e.data,n=Object(s.default)(new Date,"yyyy-MM-dd"),t.abrupt("return",{data:r,date:n});case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},18:function(t,e,r){"use strict";var n=r(2),a=r.n(n),c=r(5),u=r(10),i=r(11),s=r(23),o=Object(u.c)("auth/register",function(){var t=Object(c.a)(a.a.mark((function t(e,r){var n,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.rejectWithValue,t.prev=1,t.next=4,Object(i.e)(e);case 4:return c=t.sent,i.f.set(c.accessToken),t.abrupt("return",c);case 9:return t.prev=9,t.t0=t.catch(1),409===t.t0.response.status&&s.Notify.failure("Provided email already exists, try another"),s.Notify.failure(t.t0.message),t.abrupt("return",n(t.t0.message));case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,r){return t.apply(this,arguments)}}()),d=Object(u.c)("auth/login",function(){var t=Object(c.a)(a.a.mark((function t(e,r){var n,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.rejectWithValue,t.prev=1,t.next=4,Object(i.c)(e);case 4:return c=t.sent,i.f.set(c.accessToken),t.abrupt("return",c);case 9:return t.prev=9,t.t0=t.catch(1),403===t.t0.response.status&&s.Notify.failure("This email doesn't exist or password is wrong"),s.Notify.failure(t.t0.message),t.abrupt("return",n(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,r){return t.apply(this,arguments)}}()),l=Object(u.c)("auth/logout",function(){var t=Object(c.a)(a.a.mark((function t(e,r){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.rejectWithValue,t.prev=1,t.next=4,Object(i.d)();case 4:i.f.unset(),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return",n(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,r){return t.apply(this,arguments)}}()),p=Object(u.c)("auth/checked",function(){var t=Object(c.a)(a.a.mark((function t(e,r){var n,c,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.getState(),null!==(c=n.auth.token)){t.next=4;break}return t.abrupt("return",r.rejectWithValue());case 4:return i.f.set(c),t.prev=5,t.next=8,Object(i.a)(c);case 8:return u=t.sent,t.abrupt("return",u);case 12:return t.prev=12,t.t0=t.catch(5),t.abrupt("return",r.rejectWithValue(t.t0));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,r){return t.apply(this,arguments)}}()),f={register:o,logIn:d,logOut:l,CheckedIsLoginCurrentUser:p};e.a=f},26:function(t,e,r){t.exports={container:"Routes_container__3XD_Y",visuallyHidden:"Routes_visuallyHidden__16x7G",App:"Routes_App__37AJ7",sideBarDiv:"Routes_sideBarDiv__XH2KR"}},28:function(t,e,r){"use strict";r.d(e,"d",(function(){return h})),r.d(e,"c",(function(){return v})),r.d(e,"a",(function(){return O})),r.d(e,"b",(function(){return y}));var n=r(2),a=r.n(n),c=r(5),u=r(10),i=r(58),s=r(11);function o(t){return d.apply(this,arguments)}function d(){return(d=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,s.b.post("/day",e);case 3:return r=t.sent,n=r.data,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(t){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,s.b.post("/day/info",e);case 3:return r=t.sent,n=r.data,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t){return b.apply(this,arguments)}function b(){return(b=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.b.delete("/day",{data:e});case 2:return r=t.sent,n=r.data,t.abrupt("return",{data:n,options:e});case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var j=r(23),h=Object(u.c)("summaries/dailyRate",function(){var t=Object(c.a)(a.a.mark((function t(e,r){var n,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.rejectWithValue,t.prev=1,t.next=4,Object(i.b)(e);case 4:return c=t.sent,t.abrupt("return",c);case 8:return t.prev=8,t.t0=t.catch(1),j.Notify.failure(t.t0.message),t.abrupt("return",n(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()),v=Object(u.c)("summaries/pickData",function(){var t=Object(c.a)(a.a.mark((function t(e,r){var n,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.rejectWithValue,t.prev=1,t.next=4,l(e);case 4:return c=t.sent,t.abrupt("return",c);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",n(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()),O=Object(u.c)("summaries/addProduct",function(){var t=Object(c.a)(a.a.mark((function t(e,r){var n,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.rejectWithValue,t.prev=1,t.next=4,o(e);case 4:return c=t.sent,t.abrupt("return",c);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",n(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()),y=Object(u.c)("summaries/delete",function(){var t=Object(c.a)(a.a.mark((function t(e,r){var n,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.rejectWithValue,t.prev=1,t.next=4,f(e);case 4:return c=t.sent,t.abrupt("return",c);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",n(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}())},36:function(t,e,r){"use strict";r.d(e,"b",(function(){return u}));var n=r(0),a=r(20),c=r(37),u=function(){var t=Object(a.c)(c.b);return Object(n.useEffect)((function(){return!!t}),[t]),Boolean(t)};e.a=u},37:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return a}));var n=function(t){return t.auth.token},a=function(t){return t.auth.user.username}},58:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return s}));var n=r(2),a=r.n(n),c=r(5),u=r(11),i=function(){var t=Object(c.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.b.post("/daily-rate",e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=Object(c.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.b.post("/daily-rate/".concat(e.idUser),e.ccc));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},[[103,1,2]]]);
//# sourceMappingURL=main.34533f96.chunk.js.map